{"version":3,"sources":["features/userCard/api/getUser.ts","features/userCard/components/UserItem/getDeleteOnClick.ts","features/userCard/components/UserItem/getEditOnClick.ts","features/userCard/components/UserItem/UserItem.module.css","features/userCard/api/getUsers.ts","features/userCard/components/UserItem/UserItem.tsx","features/userCard/selectors/usersSelector.ts","features/userCard/components/UserListCard/getCreateOnClick.ts","features/userCard/components/UserEditCard/cancelOnClick.ts","features/userCard/selectors/getUserEditFormSelector.ts","features/userCard/components/UserEditCard/formOnChange.ts","features/userCard/components/UserEditCard/formOnSubmit.ts","features/userCard/components/UserEditCard/resetOnClick.ts","features/userCard/selectors/showListSelector.ts","features/userCard/components/UserListCard/UserListCard.tsx","app/components/ObjectFieldTemplate/ObjectFieldTemplate.tsx","app/utils/formUtils.ts","app/components/PhoneNumberWidget/PhoneNumberWidget.tsx","app/components/CustomForm/CustomForm.tsx","features/userCard/components/UserEditCard/UserEditCard.tsx","app/components/ObjectFieldTemplate/ObjectFieldTemplate.module.css","features/userCard/components/UserCard/UserCard.tsx","app/components/CardFooterWrapper/CardFooterWrapper.tsx","app/components/CardFooterWrapper/CardFooterWrapper.module.css","app/utils/liferayUtils.ts"],"names":["getUser","user","a","promisifiedLiferayService","userId","store","dispatch","getUserSuccess","getUserFailure","getDeleteOnClick","event","deleteUser","stopPropagation","getEditOnClick","module","exports","getUsers","getUsersBegin","groupId","getGroupId","users","getUsersSuccess","getUsersFailure","UserItem","emptyUser","className","styles","item","firstName","middleName","lastName","screenName","emailAddress","buttonsWrapper","onClick","usersSelector","state","getCreateOnClick","createUser","cancelOnClick","cancelEditForm","getUserEditFormSelector","editForm","formOnChange","formData","setFormData","formOnSubmit","console","log","submitEditForm","resetOnClick","resetEditForm","showListSelector","data","UserListCard","useEffect","userList","useSelector","role","aria-label","map","key","ObjectFieldTemplate","TitleField","properties","description","title","required","idSchema","row","prop","content","getFieldTitleFromError","error","schema","propertyFromError","property","substr","getTransformErrors","formats","errors","errorStrings","getErrorStrings","Object","keys","includes","params","format","message","stack","split","slice","word","join","phoneNumberFormat","regex","emailAddressFormat","reduce","customFormats","widgets","phoneNumberWidget","value","onChange","mask","maskChar","type","target","CustomForm","React","forwardRef","ref","formKey","uiSchema","transformErrors","onSubmit","onError","e","children","Fragment","showErrorList","UserEditCard","formRef","useRef","CardFooterWrapper","current","submit","UserCard","reactConfig","wrapper","api","expectedResultType","Promise","resolve","reject","window","Liferay","Service","result","Array","isArray","ThemeDisplay","getScopeGroupId"],"mappings":"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","file":"static/js/3.3d43a200.chunk.js","sourcesContent":["import { store } from 'app/store';\nimport { promisifiedLiferayService, getGroupId } from 'app/utils/liferayUtils';\nimport {\n  getUserBegin,\n  getUserSuccess,\n  getUserFailure,\n  User,\n} from '../userSlice';\n\nexport const getUser = async (user: User) => {\n  if (process.env.NODE_ENV === 'development') {\n    store.dispatch(getUserSuccess(user));\n    return;\n  }\n  try {\n    const userDetails = await promisifiedLiferayService(\n      '/user/get-user-by-id',\n      { userId: user.userId },\n      'object'\n    );\n    store.dispatch(getUserSuccess(user));\n  } catch (error) {\n    store.dispatch(getUserFailure(error));\n  }\n};\n\n// promisifiedLiferayService(\n//   \"/role/get-roles\",\n//   { companyId: Liferay.ThemeDisplay.getCompanyId(), types: [1] },\n//   \"array\"\n// ),\n// promisifiedLiferayService(\n//   \"/role/get-user-roles\",\n//   { userId },\n//   \"array\"\n// )\n","import React from 'react';\nimport { store } from 'app/store';\nimport { deleteUser, User } from '../../userSlice';\n\nexport const getDeleteOnClick = (user: User) => (\n  event: React.MouseEvent\n): void => {\n  /* istanbul ignore next */\n  if (!user) {\n    return;\n  }\n  store.dispatch(deleteUser(user));\n  event.stopPropagation();\n};\n","import React from 'react';\nimport { User } from '../../userSlice';\nimport { getUser } from 'features/userCard/api/getUser';\n\nexport const getEditOnClick = (user?: User) => (\n  event: React.MouseEvent\n): void => {\n  /* istanbul ignore next */\n  if (!user) {\n    return;\n  }\n  getUser(user);\n  event.stopPropagation();\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"UserItem_item__2gGRR\",\"buttonsWrapper\":\"UserItem_buttonsWrapper__1e4zy\"};","import { store } from 'app/store';\nimport { promisifiedLiferayService, getGroupId } from 'app/utils/liferayUtils';\nimport {\n  getUsersBegin,\n  getUsersSuccess,\n  getUsersFailure,\n  User,\n} from '../userSlice';\n\nconst dummyUserData: User[] = [\n  {\n    userId: '1',\n    firstName: 'Ben',\n    middleName: '',\n    lastName: 'Kinsey',\n  },\n];\n\nexport const getUsers = async () => {\n  if (process.env.NODE_ENV === 'development') {\n    store.dispatch(getUsersSuccess(dummyUserData));\n    return;\n  }\n  try {\n    store.dispatch(getUsersBegin());\n    const users = (await promisifiedLiferayService(\n      '/user/get-group-users',\n      {\n        groupId: getGroupId(),\n        // start: 1,\n        // end: 2\n      },\n      'array'\n    )) as User[];\n    store.dispatch(getUsersSuccess(users));\n  } catch (error) {\n    store.dispatch(getUsersFailure(error));\n  }\n};\n","import React from 'react';\n\nimport { User } from 'features/userCard/userSlice';\nimport { emptyUser } from 'features/userCard/helpers/userTemplate';\nimport { getDeleteOnClick } from './getDeleteOnClick';\nimport { getEditOnClick } from './getEditOnClick';\nimport styles from './UserItem.module.css';\n\ninterface UserProps {\n  user: User;\n}\n\nexport const UserItem: React.FC<UserProps> = ({ user = emptyUser }) => (\n  <li className={`list-group-item ${styles.item}`}>\n    <div>\n      Name: {user.firstName} {user.middleName} {user.lastName}\n    </div>\n    <div>Screen name: {user.screenName ?? '<none>'}</div>\n    <div>Email Address: {user.emailAddress ?? '<none>'}</div>\n    <div className={`flex-grow ${styles.buttonsWrapper}`}>\n      <button className=\"btn btn-primary\" onClick={getEditOnClick(user)}>\n        Edit\n      </button>\n      <button className=\"btn btn-danger\" onClick={getDeleteOnClick(user)}>\n        Delete\n      </button>\n    </div>\n  </li>\n);\n","import { RootState } from 'app/rootReducer';\nimport { UserState } from '../userSlice';\n\nexport const usersSelector = (state: RootState): UserState['users'] =>\n  state.user.users;\n","import { store } from 'app/store';\nimport { createUser } from '../../userSlice';\n\nexport const getCreateOnClick = () => (): void => {\n  store.dispatch(createUser());\n};\n","import { store } from 'app/store';\nimport { cancelEditForm } from '../../userSlice';\n\nexport const cancelOnClick = (): void => {\n  store.dispatch(cancelEditForm());\n};\n","import { RootState } from 'app/rootReducer';\nimport { UserEditForm } from '../userSlice';\n\nexport const getUserEditFormSelector = (state: RootState): UserEditForm =>\n  state.user.editForm;\n","import { store } from 'app/store';\nimport { setFormData } from '../../userSlice';\n\nexport const formOnChange = ({ formData }: { formData: any }) => {\n  store.dispatch(setFormData(formData));\n};\n","import { store } from 'app/store';\nimport { submitEditForm } from '../../userSlice';\n\nexport const formOnSubmit = ({ formData }: { formData: any }) => {\n  console.log('submitted successfully');\n  store.dispatch(submitEditForm(formData));\n};\n","import { store } from 'app/store';\nimport { resetEditForm } from '../../userSlice';\n\nexport const resetOnClick = () => {\n  store.dispatch(resetEditForm());\n};\n","import { RootState } from 'app/rootReducer';\n\nexport const showListSelector = (state: RootState): boolean =>\n  !state.user.editForm.data;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { UserItem } from '../UserItem/UserItem';\nimport { usersSelector } from '../../selectors/usersSelector';\nimport { CardFooterWrapper } from 'app/components/CardFooterWrapper/CardFooterWrapper';\nimport { getCreateOnClick } from './getCreateOnClick';\nimport { getUsers } from 'features/userCard/api/getUsers';\n\nexport const UserListCard: React.FC = () => {\n  useEffect(() => {\n    console.log('what');\n    getUsers();\n  }, []);\n\n  const userList = useSelector(usersSelector);\n\n  return (\n    <div className=\"card\" role=\"main\" aria-label=\"User Card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">Users</h5>\n      </div>\n      <div className=\"card-body\">\n        <ul className=\"list-group\">\n          {userList.map((user) => (\n            <UserItem key={user.userId} user={user}></UserItem>\n          ))}\n        </ul>\n      </div>\n      <div className=\"card-footer\">\n        <CardFooterWrapper>\n          <button className=\"btn btn-primary\" onClick={getCreateOnClick()}>\n            Create New User\n          </button>\n        </CardFooterWrapper>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { ObjectFieldTemplateProps } from 'react-jsonschema-form';\nimport styles from './ObjectFieldTemplate.module.css';\n\nexport const ObjectFieldTemplate = ({\n  TitleField,\n  properties,\n  title,\n  description,\n  required,\n  idSchema,\n}: ObjectFieldTemplateProps) => {\n  return (\n    <fieldset>\n      <div>\n        <div className={`row ${styles.row}`}>\n          {properties.map((prop) => (\n            <div key={prop.content.key as string | number | undefined}>\n              {prop.content}\n            </div>\n          ))}\n        </div>\n        {description}\n      </div>\n    </fieldset>\n  );\n};\n","import { StatelessComponent } from 'react';\nimport { AjvError, WidgetProps } from 'react-jsonschema-form';\nimport { JSONSchema6 } from 'json-schema';\n\nimport PhoneNumberWidget from 'app/components/PhoneNumberWidget/PhoneNumberWidget';\n\n/** field title is the plain english name (with space chars). */\nconst getFieldTitleFromError = (error: AjvError, schema: JSONSchema6) => {\n  // for some reason error properties are prepended with a . so we strip 'em off\n  const propertyFromError = error.property.substr(1);\n\n  // \"as any\" necessary here because JSONSchema6 properties can be undefined for\n  // some reason that eludes me.\n  // In our case we are fine here since we know all our properties must be strings.\n  console.log((schema.properties as any)[propertyFromError].title);\n  return (schema.properties as any)[propertyFromError].title;\n};\n\n/** given errors, generate user friendly error messages in a way that react-jsonschema-form expects */\nconst getTransformErrors = (schema: JSONSchema6, formats: Formats) => (\n  errors: AjvError[]\n) => {\n  const errorStrings = getErrorStrings(formats);\n  console.log({ errorStrings, errors });\n  return errors.map((error) =>\n    Object.keys(errorStrings).includes(error.params.format)\n      ? {\n          ...error,\n          message: errorStrings[error.params.format],\n          stack: `${getFieldTitleFromError(error, schema)} ${\n            errorStrings[error.params.format]\n          }`,\n        }\n      : {\n          ...error,\n          message: error.message\n            ?.split(' ')\n            .slice(1)\n            .map((word) => (word === 'property' ? 'field' : word))\n            .join(' '),\n          stack: `${getFieldTitleFromError(error, schema)} ${error.stack\n            ?.split(' ')\n            .slice(1)\n            .map((word) => (word === 'property' ? 'field' : word))\n            .join(' ')}`,\n        }\n  );\n};\n\ninterface Formats {\n  [key: string]: {\n    regex: RegExp;\n    error: string;\n  };\n}\n\n/**\n * I think it would be best to define formats directly with the error message.\n * This isn't built into react-jsonschema-format, so I will do it myself.\n */\nconst formats: Formats = {\n  phoneNumberFormat: {\n    regex: /^$|^\\(?([2-9][0-8][0-9])\\)?[-. ]?([2-9][0-9]{2})[-. ]?([0-9]{4})$/,\n    error: 'must be valid and in the format of XXX-XXX-XXXX',\n  },\n  emailAddressFormat: {\n    regex: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n    error: 'must be in the format of something@domain.tld',\n  },\n};\n\n/** react-jsonschema-form expects formats like [key]: regex */\nconst getCustomFormats = (formats: Formats) =>\n  Object.keys(formats).reduce(\n    (customFormats, key) => ({\n      ...customFormats,\n      [key]: formats[key].regex,\n    }),\n    {}\n  );\n\ninterface ErrorStrings {\n  [key: string]: string;\n}\n\ntype GetErrorStrings = (formats: Formats) => ErrorStrings;\n\n/** transforms errors from format like [key]: regex */\nconst getErrorStrings: GetErrorStrings = (formats) =>\n  Object.keys(formats).reduce(\n    (customFormats, key) => ({\n      ...customFormats,\n      [key]: formats[key].error,\n    }),\n    {}\n  );\n\n/** extended components used by react-jsonschema-forms */\nconst widgets = {\n  phoneNumberWidget: PhoneNumberWidget as StatelessComponent<WidgetProps>,\n};\n\nexport { getTransformErrors, formats, widgets, getCustomFormats };\n","import React from 'react';\nimport InputMask from 'react-input-mask';\n\ninterface PhoneNumberWidgetProps {\n  value: string;\n  required: boolean | undefined;\n  onChange: (value: string) => void;\n}\n\n/**\n * This widget is an custom field component that can be used inside of react-jsonschema-forms\n * The props are fed in from react-jsonschema-forms.\n * It is necessary to make sure value is initialized as a string, rather than undefined.\n * Because otherwise react will give a warning about an uncontrolled component changing\n * to a controlled component. I also like input masking.\n */\nconst PhoneNumberWidget: React.FC<PhoneNumberWidgetProps> = ({\n  value = '',\n  required,\n  onChange,\n}) => (\n  <InputMask\n    mask=\"999-999-9999\"\n    maskChar=\"_\"\n    type=\"tel\"\n    className=\"form-control\"\n    value={value}\n    required={required}\n    onChange={(event): void => onChange(event.target.value)}\n  />\n);\n\nexport default PhoneNumberWidget;\n","import React, { Ref } from 'react';\nimport Form, { UiSchema } from 'react-jsonschema-form';\nimport { JSONSchema6 } from 'json-schema';\n\nimport { ObjectFieldTemplate } from 'app/components/ObjectFieldTemplate/ObjectFieldTemplate';\nimport {\n  widgets,\n  getCustomFormats,\n  getTransformErrors,\n  formats,\n} from 'app/utils/formUtils';\n\nexport interface CustomFormImperative {\n  submit: () => void;\n}\n\ninterface CustomFormProps {\n  formKey: number;\n  data: {};\n  schema: JSONSchema6;\n  uiSchema: UiSchema;\n  formOnChange: ({ formData }: { formData: any }) => void;\n  formOnSubmit: ({ formData }: { formData: any }) => void;\n}\n\nexport const CustomForm = React.forwardRef(\n  (\n    {\n      formKey,\n      data,\n      schema,\n      uiSchema,\n      formOnChange,\n      formOnSubmit,\n    }: CustomFormProps,\n    ref: Ref<CustomFormImperative>\n  ) => {\n    return (\n      <Form\n        // key only seems to be necessary in order to clear the form\n        // see https://github.com/rjsf-team/react-jsonschema-form/issues/953#issuecomment-397815654\n        key={formKey}\n        schema={schema}\n        uiSchema={uiSchema}\n        widgets={widgets}\n        customFormats={getCustomFormats(formats)}\n        transformErrors={getTransformErrors(schema, formats)}\n        formData={data}\n        onChange={formOnChange}\n        onSubmit={formOnSubmit}\n        onError={(e) => console.log(e)}\n        children={<React.Fragment />}\n        showErrorList={false}\n        ObjectFieldTemplate={ObjectFieldTemplate}\n        ref={ref as any}\n      />\n    );\n  }\n);\n\n// export const CustomForm = forwardRef((\n//   { key, data, schema, uiSchema }: CustomFormProps,\n//   ref: Ref<Form>\n// ) => {\n//   const formRef = useRef<Form<{}>>();\n\n//   useImperativeHandle(ref, () => ({\n//     submit: () => {\n//       formRef?.current?.submit();\n//     },\n//   })));\n\n//   return (\n//     <Form\n//       // key only seems to be necessary in order to clear the form\n//       // see https://github.com/rjsf-team/react-jsonschema-form/issues/953#issuecomment-397815654\n//       key={key}\n//       schema={schema}\n//       uiSchema={uiSchema}\n//       widgets={widgets}\n//       customFormats={getCustomFormats(formats)}\n//       transformErrors={getTransformErrors(schema, formats)}\n//       formData={data}\n//       onChange={formOnChange}\n//       onSubmit={formOnSubmit}\n//       onError={(e) => console.log(e)}\n//       children={<React.Fragment />}\n//       showErrorList={false}\n//       ObjectFieldTemplate={ObjectFieldTemplate}\n//       ref={formRef as any}\n//     />\n//   );\n// };\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { CardFooterWrapper } from 'app/components/CardFooterWrapper/CardFooterWrapper';\nimport { cancelOnClick } from './cancelOnClick';\nimport { getUserEditFormSelector } from 'features/userCard/selectors/getUserEditFormSelector';\nimport { formOnChange } from './formOnChange';\nimport { formOnSubmit } from './formOnSubmit';\nimport {\n  CustomForm,\n  CustomFormImperative,\n} from 'app/components/CustomForm/CustomForm';\nimport { resetOnClick } from './resetOnClick';\n\nexport const UserEditCard: React.FC = () => {\n  const { formKey, data = {}, schema, uiSchema } = useSelector(\n    getUserEditFormSelector\n  );\n  const formRef = useRef<CustomFormImperative>(null);\n\n  console.log('here');\n\n  return (\n    <div className=\"card\" role=\"main\" aria-label=\"User Card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">Users</h5>\n      </div>\n      <div className=\"card-body\">\n        <CustomForm\n          formKey={formKey}\n          data={data}\n          schema={schema}\n          uiSchema={uiSchema}\n          formOnChange={formOnChange}\n          formOnSubmit={formOnSubmit}\n          ref={formRef}\n        />\n      </div>\n      <div className=\"card-footer\">\n        <CardFooterWrapper>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => {\n              formRef.current?.submit();\n            }}\n          >\n            Save User\n          </button>\n          <button className=\"btn btn-secondary\" onClick={resetOnClick}>\n            Reset\n          </button>\n          <button className=\"btn btn-primary\" onClick={cancelOnClick}>\n            Cancel\n          </button>\n        </CardFooterWrapper>\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"ObjectFieldTemplate_row__fITKL\"};","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { TopLevelComponent } from 'app/utils/typeUtils';\nimport { showListSelector } from '../../selectors/showListSelector';\nimport { UserListCard } from '../UserListCard/UserListCard';\nimport { UserEditCard } from '../UserEditCard/UserEditCard';\n\ninterface UserCardProps {\n  reactConfig?: {\n    title?: string;\n  };\n}\nexport const UserCard: TopLevelComponent<UserCardProps> = ({ reactConfig }) => {\n  const showList = useSelector(showListSelector);\n  return showList ? <UserListCard /> : <UserEditCard />;\n};\nexport default UserCard;\n","import React from 'react';\nimport styles from './CardFooterWrapper.module.css';\n\nexport const CardFooterWrapper: React.FC = ({ children }) => (\n  <div className={styles.wrapper}>{children}</div>\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CardFooterWrapper_wrapper__1sA5G\"};","declare global {\n  interface Window {\n    Liferay: any;\n  }\n}\n\n// This abstracts out most of the error handling and makes invoking api calls\n// inside of redux actions very tight, composable with Promise.all and\n// amenable to modern async-await syntax inside of thunk actions\nexport const promisifiedLiferayService = (\n  api: string,\n  data: {},\n  expectedResultType: any\n) =>\n  new Promise((resolve, reject) => {\n    try {\n      window.Liferay.Service(api, data, (result: any) => {\n        if (typeof result === expectedResultType) {\n          resolve(result);\n        } else if (expectedResultType === 'array' && Array.isArray(result)) {\n          resolve(result);\n        } else if (typeof result === 'string') {\n          reject(result);\n        } else {\n          reject('Unexpected error.');\n        }\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n\nexport const updateUserDummyData = {\n  oldPassword: '',\n  newPassword1: '',\n  newPassword2: '',\n  passwordReset: false,\n  reminderQueryQuestion: '',\n  reminderQueryAnswer: '',\n  screenName: 'not_null',\n  emailAddress: 'test@example.com',\n  facebookId: 0,\n  openId: '', // this is weird: only id field here that takes a string instead of an int\n  languageId: 0,\n  timeZoneId: 0,\n  greeting: '',\n  comments: '',\n  firstName: '',\n  middleName: '',\n  lastName: '',\n  prefixId: 0,\n  suffixId: 0,\n  male: true,\n  birthdayMonth: 1,\n  birthdayDay: 1,\n  birthdayYear: 1970,\n  smsSn: '',\n  facebookSn: '',\n  jabberSn: '',\n  skypeSn: '',\n  twitterSn: '',\n  jobTitle: 'Tester',\n  groupIds: null,\n  organizationIds: [],\n  roleIds: [],\n  userGroupRoles: [],\n  userGroupIds: [],\n};\n\nexport const getGroupId = () => window.Liferay.ThemeDisplay.getScopeGroupId();\n"],"sourceRoot":""}