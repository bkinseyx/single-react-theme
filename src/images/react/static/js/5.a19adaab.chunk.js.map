{"version":3,"sources":["features/toDoCard/components/ToDoItem/getDescriptionOnChange.ts","features/toDoCard/components/ToDoItem/getDeleteOnClick.ts","features/toDoCard/components/ToDoItem/getIsCompleteOnChange.ts","features/toDoCard/selectors/activeProfileSelector.ts","features/toDoCard/components/ToDoItem/ToDoItem.module.css","features/toDoCard/components/ToDoCard/getCreateOnClick.ts","features/toDoCard/components/ToDoCard/getErrorCloseOnClick.ts","features/toDoCard/selectors/errorMessageSelector.ts","app/components/CustomCheckbox/CustomCheckbox.tsx","features/toDoCard/components/ToDoItem/ToDoItem.tsx","app/components/CustomCheckbox/CustomCheckbox.module.css","features/toDoCard/selectors/toDoListSelector.ts","features/toDoCard/components/ToDoCard/ToDoCardFooter.tsx","features/toDoCard/components/ToDoCard/ToDoCard.tsx","features/toDoCard/components/ToDoCard/ToDoCard.test.tsx","app/components/CardFooterWrapper/CardFooterWrapper.tsx","app/components/CustomTextInput/CustomTextInput.tsx","app/components/CardFooterWrapper/CardFooterWrapper.module.css"],"names":["getDescriptionOnChange","toDoId","description","store","dispatch","updateToDo","getDeleteOnClick","deleteToDo","getIsCompleteOnChange","isComplete","activeProfileSelector","state","profile","profileList","find","profileId","activeProfileId","module","exports","getCreateOnClick","createToDo","setErrorMessage","getErrorCloseOnClick","errorMessageSelector","toDo","errorMessage","CustomCheckbox","checked","onChange","label","idPrefix","autoFocus","inputId","htmlFor","id","type","className","styles","checkbox","event","target","ToDoItem","emptyToDo","toDoItem","CustomTextInput","value","buttonWrapper","onClick","toDoListSelector","toDoList","filter","ToDoCardFooter","activeProfile","useSelector","classNames","disabled","style","flexGrow","variant","dismissible","onClose","ToDoCard","reactConfig","role","aria-label","title","name","map","key","renderCard","render","test","asFragment","expect","toMatchSnapshot","screen","getByLabelText","toBeInTheDocument","getByRole","toDoListItems","within","queryAllByRole","toHaveLength","setActiveProfile","rerender","getAllByRole","deleteButton","getByText","fireEvent","click","reset","createButton","lastItem","not","toBeChecked","toHaveValue","CardFooterWrapper","children","wrapper"],"mappings":"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","file":"static/js/5.a19adaab.chunk.js","sourcesContent":["import { updateToDo } from '../../toDoSlice';\nimport { store } from 'app/store';\n\nexport const getDescriptionOnChange = (toDoId?: number) => (\n  description: string,\n): void => {\n  /* istanbul ignore next */\n  if (!toDoId) {\n    return;\n  }\n  store.dispatch(\n    updateToDo({\n      toDoId,\n      description,\n    }),\n  );\n};\n","import { deleteToDo } from '../../toDoSlice';\nimport { store } from 'app/store';\n\nexport const getDeleteOnClick = (toDoId?: number) => (): void => {\n  /* istanbul ignore next */\n  if (!toDoId) {\n    return;\n  }\n  store.dispatch(deleteToDo(toDoId));\n};\n","import { updateToDo } from '../../toDoSlice';\nimport { store } from 'app/store';\n\nexport const getIsCompleteOnChange = (toDoId?: number) => (\n  isComplete: boolean,\n): void => {\n  /* istanbul ignore next */\n  if (!toDoId) {\n    return;\n  }\n  store.dispatch(\n    updateToDo({\n      toDoId,\n      isComplete,\n    }),\n  );\n};\n","import { RootState } from 'app/rootReducer';\nimport { Profile } from 'features/profileCard/profileSlice';\n\nexport const activeProfileSelector = (state: RootState): Profile | undefined =>\n  state.profile.profileList.find(\n    (profile) => profile.profileId === state.profile.activeProfileId,\n  );\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toDoItem\":\"ToDoItem_toDoItem__1I-c8\",\"buttonWrapper\":\"ToDoItem_buttonWrapper__1GahE\"};","import { store } from 'app/store';\nimport { createToDo, setErrorMessage } from '../../toDoSlice';\n\nexport const getCreateOnClick = (profileId?: number) => (): void => {\n  if (!profileId) {\n    store.dispatch(setErrorMessage('Must select a profile first.'));\n    return;\n  }\n  store.dispatch(createToDo(profileId));\n};\n","import { store } from 'app/store';\nimport { setErrorMessage } from '../../toDoSlice';\n\nexport const getErrorCloseOnClick = () => (): void => {\n  store.dispatch(setErrorMessage());\n};\n","import { RootState } from 'app/rootReducer';\n\nexport const errorMessageSelector = (state: RootState): string | undefined =>\n  state.toDo.errorMessage;\n","import React from 'react';\n\nimport styles from './CustomCheckbox.module.css';\n\ninterface CustomCheckboxProps {\n  onChange: (value: boolean) => void;\n  checked?: boolean;\n  label: string;\n  idPrefix: string;\n  autoFocus?: boolean;\n}\n\nexport const CustomCheckbox: React.FC<CustomCheckboxProps> = ({\n  checked,\n  onChange,\n  label,\n  idPrefix,\n  autoFocus,\n}) => {\n  const inputId = `${idPrefix}-input`;\n\n  return (\n    <div>\n      <label htmlFor={inputId}>{label}</label>\n      <input\n        id={inputId}\n        type=\"checkbox\"\n        className={`form-control ${styles.checkbox}`}\n        checked={checked}\n        onChange={(event): void => onChange(event.target.checked)}\n        autoFocus={autoFocus}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport styles from './ToDoItem.module.css';\n\nimport { ToDo } from '../../toDoSlice';\nimport { CustomTextInput } from 'app/components/CustomTextInput/CustomTextInput';\nimport { emptyToDo } from '../../helpers/toDoTemplate';\nimport { getDescriptionOnChange } from './getDescriptionOnChange';\nimport { getDeleteOnClick } from './getDeleteOnClick';\nimport { getIsCompleteOnChange } from './getIsCompleteOnChange';\nimport { CustomCheckbox } from 'app/components/CustomCheckbox/CustomCheckbox';\n\ninterface ToDoProps {\n  toDo: ToDo;\n}\n\nexport const ToDoItem: React.FC<ToDoProps> = ({ toDo = emptyToDo }) => {\n  return (\n    <li className={'list-group-item ' + styles.toDoItem}>\n      <CustomCheckbox\n        idPrefix={`isComplete-${toDo.toDoId}`}\n        label={'Complete?'}\n        checked={toDo.isComplete}\n        onChange={getIsCompleteOnChange(toDo.toDoId)}\n      />\n      <CustomTextInput\n        idPrefix={`description-${toDo.toDoId}`}\n        label={'Description'}\n        value={toDo.description}\n        onChange={getDescriptionOnChange(toDo.toDoId)}\n      />\n      <div className={styles.buttonWrapper}>\n        <button\n          className=\"btn btn-danger\"\n          onClick={getDeleteOnClick(toDo.toDoId)}\n        >\n          Delete\n        </button>\n      </div>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"CustomCheckbox_checkbox__3dmq1\"};","import { RootState } from 'app/rootReducer';\nimport { ToDo } from '../toDoSlice';\n\nexport const toDoListSelector = (state: RootState): ToDo[] =>\n  state.toDo.toDoList.filter(\n    (toDo) => toDo.profileId === state.profile.activeProfileId,\n  );\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Alert } from 'react-bootstrap';\nimport classNames from 'classnames';\n\nimport { CardFooterWrapper } from 'app/components/CardFooterWrapper/CardFooterWrapper';\nimport { getCreateOnClick } from './getCreateOnClick';\nimport { getErrorCloseOnClick } from './getErrorCloseOnClick';\nimport { activeProfileSelector } from '../../selectors/activeProfileSelector';\nimport { errorMessageSelector } from 'features/toDoCard/selectors/errorMessageSelector';\n\nexport const ToDoCardFooter: React.FC = () => {\n  const activeProfile = useSelector(activeProfileSelector);\n  const errorMessage = useSelector(errorMessageSelector);\n  return (\n    <div className=\"card-footer\">\n      <CardFooterWrapper>\n        <button\n          className={classNames('btn', 'btn-primary', {\n            disabled: !activeProfile?.profileId,\n          })}\n          onClick={getCreateOnClick(activeProfile?.profileId)}\n        >\n          Create New ToDo\n        </button>\n        {errorMessage && (\n          <Alert\n            style={{ flexGrow: 1 }}\n            variant=\"warning\"\n            dismissible\n            onClose={getErrorCloseOnClick()}\n          >\n            {errorMessage}\n          </Alert>\n        )}\n      </CardFooterWrapper>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { ToDoItem } from '../ToDoItem/ToDoItem';\nimport { toDoListSelector } from '../../selectors/toDoListSelector';\nimport { activeProfileSelector } from '../../selectors/activeProfileSelector';\nimport { ToDoCardFooter } from './ToDoCardFooter';\nimport { TopLevelComponent } from 'app/utils/typeUtils';\n\ninterface ToDoCardProps {\n  reactConfig?: {\n    title?: string;\n  };\n}\n\nexport const ToDoCard: TopLevelComponent<ToDoCardProps> = ({ reactConfig }) => {\n  const toDoList = useSelector(toDoListSelector);\n  const activeProfile = useSelector(activeProfileSelector);\n  return (\n    <div className=\"card\" role=\"complementary\" aria-label=\"ToDo Card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">\n          {reactConfig?.title}{' '}\n          {activeProfile?.name && `for ${activeProfile?.name}`}\n        </h5>\n      </div>\n      <div className=\"card-body\">\n        <ul className=\"list-group\">\n          {toDoList.map((toDo) => (\n            <ToDoItem key={toDo.toDoId} toDo={toDo}></ToDoItem>\n          ))}\n        </ul>\n      </div>\n      <ToDoCardFooter></ToDoCardFooter>\n    </div>\n  );\n};\nexport default ToDoCard;\n","import React from 'react';\nimport {\n  render,\n  screen,\n  within,\n  RenderResult,\n  fireEvent,\n} from '@testing-library/react';\nimport { Provider } from 'react-redux';\n\nimport { store } from 'app/store';\nimport { ToDoCard } from './ToDoCard';\nimport { reset } from '../../toDoSlice';\nimport { setActiveProfile } from 'features/profileCard/profileSlice';\n\nconst renderCard = (): RenderResult =>\n  render(\n    <Provider store={store}>\n      <ToDoCard />\n    </Provider>,\n  );\n\ntest('renders the ToDoCard', () => {\n  const { asFragment } = renderCard();\n  expect(asFragment()).toMatchSnapshot();\n  expect(screen.getByLabelText(/toDo card/i)).toBeInTheDocument();\n  const toDoList = screen.getByRole('list');\n  expect(toDoList).toBeInTheDocument();\n\n  // we have to use queryAll* instead of getAllBy* in order to test non-existence.\n  // see https://stackoverflow.com/questions/52783144/how-do-you-test-for-the-non-existence-of-an-element-using-jest-and-react-testing\n  const toDoListItems = within(toDoList).queryAllByRole('listitem');\n  expect(toDoListItems).toHaveLength(0);\n});\n\ntest('test delete button', () => {\n  store.dispatch(setActiveProfile(1));\n  const { rerender, asFragment } = renderCard();\n  const toDoList = screen.getByRole('list');\n  let toDoListItems = within(toDoList).getAllByRole('listitem');\n  const deleteButton = within(toDoListItems[0]).getByText(/delete/i);\n  fireEvent.click(deleteButton);\n  rerender(\n    <Provider store={store}>\n      <ToDoCard />\n    </Provider>,\n  );\n  toDoListItems = within(toDoList).getAllByRole('listitem');\n  expect(toDoListItems).toHaveLength(2);\n  expect(asFragment()).toMatchSnapshot();\n});\n\ntest('test create button', () => {\n  store.dispatch(reset());\n  store.dispatch(setActiveProfile(1));\n  const { rerender, asFragment } = renderCard();\n  const createButton = screen.getByText(/create/i);\n  const toDoList = screen.getByRole('list');\n  let toDoListItems = within(toDoList).getAllByRole('listitem');\n  expect(toDoListItems).toHaveLength(3);\n  fireEvent.click(createButton);\n  rerender(\n    <Provider store={store}>\n      <ToDoCard />\n    </Provider>,\n  );\n  toDoListItems = within(toDoList).getAllByRole('listitem');\n  expect(toDoListItems).toHaveLength(4);\n  expect(asFragment()).toMatchSnapshot();\n  const lastItem = toDoListItems[3];\n  expect(within(lastItem).getByLabelText(/complete/i)).not.toBeChecked();\n  expect(within(lastItem).getByLabelText(/description/i)).toHaveValue('');\n});\n","import React from 'react';\nimport styles from './CardFooterWrapper.module.css';\n\nexport const CardFooterWrapper: React.FC = ({ children }) => (\n  <div className={styles.wrapper}>{children}</div>\n);\n","import React from 'react';\n\ninterface CustomTextInputProps {\n  onChange: (value: string) => void;\n  value?: string;\n  label: string;\n  idPrefix: string;\n  autoFocus?: boolean;\n}\n\nexport const CustomTextInput: React.FC<CustomTextInputProps> = ({\n  value,\n  onChange,\n  label,\n  idPrefix,\n  autoFocus,\n}) => {\n  const inputId = `${idPrefix}-input`;\n\n  return (\n    <div>\n      <label htmlFor={inputId}>{label}</label>\n      <input\n        id={inputId}\n        type=\"text\"\n        className=\"form-control\"\n        value={value}\n        onChange={(event): void => onChange(event.target.value)}\n        autoFocus={autoFocus}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CardFooterWrapper_wrapper__1sA5G\"};"],"sourceRoot":""}