{"version":3,"sources":["features/profileCard/selectors/profileTypesSelector.ts","features/profileCard/selectors/isActiveSelector.ts","features/profileCard/components/ProfileItem/getNameOnChange.ts","features/profileCard/components/ProfileItem/getTypeOnChange.ts","features/profileCard/components/ProfileItem/getItemOnClick.ts","features/profileCard/components/ProfileItem/getDeleteOnClick.ts","features/profileCard/components/ProfileItem/ProfileItem.module.css","app/components/CustomSelect/CustomSelect.tsx","features/profileCard/components/ProfileItem/ProfileItem.tsx","features/profileCard/components/ProfileItem/ProfileItem.test.tsx","../node_modules/classnames/index.js","app/components/CustomTextInput/CustomTextInput.tsx"],"names":["profileTypesSelector","state","profile","profileTypes","getIsActiveSelector","activeProfileId","profileId","getNameOnChange","name","store","dispatch","updateProfile","getTypeOnChange","value","profileType","getItemOnClick","setActiveProfile","getDeleteOnClick","event","deleteProfile","stopPropagation","module","exports","CustomSelect","options","onChange","label","idPrefix","selectId","htmlFor","id","className","target","map","option","key","ProfileItem","emptyProfile","useSelector","isActive","classNames","styles","profileItem","active","onClick","CustomTextInput","autoFocus","buttonWrapper","renderItem","render","test","getState","profileList","asFragment","expect","toMatchSnapshot","rerender","textInput","screen","getByLabelText","toHaveValue","fireEvent","change","toMatchInlineSnapshot","typeSelect","hasOwn","hasOwnProperty","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","call","join","default","inputId","type"],"mappings":";uIAEA,4DAAO,IAAMA,EAAuB,SAACC,GAAD,OAClCA,EAAMC,QAAQC,e,iCCEhB,2DAAO,IAAMC,EAAsB,SACjCF,GADiC,OAE9B,SAACD,GAAD,OACHA,EAAMC,QAAQG,kBAAoBH,EAAQI,a,iCCR5C,0EAGaC,EAAkB,SAACD,GAAD,OAAwB,SAACE,GAEjDF,GAGLG,IAAMC,SACJC,wBAAc,CACZL,YACAE,a,iCCXN,0EAGaI,EAAkB,SAACN,GAAD,OAAwB,SACrDO,GAGKP,GAGLG,IAAMC,SACJC,wBAAc,CACZL,YACAQ,YAAaD,Q,iCCbnB,yEAGaE,EAAiB,SAACT,GAAD,OAAwB,WACpDG,IAAMC,SAASM,2BAAiBV,O,iCCHlC,2EAGaW,EAAmB,SAACX,GAAD,OAAwB,SACtDY,GAGKZ,IAGLG,IAAMC,SAASS,wBAAcb,IAC7BY,EAAME,sB,oBCXRC,EAAOC,QAAU,CAAC,YAAc,iCAAiC,cAAgB,qC,mJCSpEC,EAA4C,SAAC,GAMnD,IALLC,EAKI,EALJA,QACAX,EAII,EAJJA,MACAY,EAGI,EAHJA,SACAC,EAEI,EAFJA,MACAC,EACI,EADJA,SAEMC,EAAQ,UAAMD,EAAN,WACd,OACE,6BACE,2BAAOE,QAASD,GAAWF,GAC3B,4BACEI,GAAIF,EACJf,MAAOA,EACPkB,UAAU,eACVN,SAAU,SAACP,GAAD,OAAiBO,EAAQ,OAACP,QAAD,IAACA,OAAD,EAACA,EAAOc,OAAOnB,SAEjDW,EAAQS,KAAI,SAACC,GAAD,OACX,4BAAQC,IAAKD,GAASA,S,sECRnBE,EAAsC,SAAC,GAE7C,IAAD,IADJlC,eACI,MADMmC,eACN,EACElC,EAAemC,YAAYtC,wBAC3BuC,EAAWD,YAAYlC,8BAAoBF,IAEjD,OACE,wBACE6B,UAAWS,IAAW,kBAAmBC,IAAOC,YAAa,CAC3DC,OAAQJ,IAEVK,QAAS7B,yBAAeb,EAAQI,YAEhC,kBAACuC,EAAA,EAAD,CACElB,SAAQ,eAAUzB,EAAQI,WAC1BoB,MAAO,OACPb,MAAOX,EAAQM,KACfiB,SAAUlB,0BAAgBL,EAAQI,WAClCwC,UAAWP,IAEb,kBAAC,EAAD,CACEZ,SAAQ,eAAUzB,EAAQI,WAC1BoB,MAAO,OACPb,MAAOX,EAAQY,YACfU,QAASrB,EACTsB,SAAUb,0BAAgBV,EAAQI,aAEpC,yBAAKyB,UAAWU,IAAOM,eACrB,4BACEhB,UAAU,iBACVa,QAAS3B,2BAAiBf,EAAQI,YAFpC,c,iCChDR,6DAaM0C,EAAa,SAAC9C,GAAD,OACjB+C,YACE,kBAAC,IAAD,CAAUxC,MAAOA,KACf,kBAAC,cAAD,CAAaP,QAASA,OAI5BgD,KAAK,uBAAuB,WAC1B,IAAMhD,EAAUO,IAAM0C,WAAWjD,QAAQkD,YAAY,GAC7CC,EAAeL,EAAW9C,GAA1BmD,WACRC,OAAOD,KAAcE,qBAGvBL,KAAK,0BAA0B,WAC7B,IAAIhD,EAAUO,IAAM0C,WAAWjD,QAAQkD,YAAY,GADhB,EAEFJ,EAAW9C,GAApCmD,EAF2B,EAE3BA,WAAYG,EAFe,EAEfA,SAChBC,EAAYC,IAAOC,eAAe,QACtCL,OAAOG,GAAWG,YAAY,OAC9BC,IAAUC,OAAOL,EAAW,CAAEzB,OAAQ,CAAEnB,MAAO,YAE/C4C,EAAYC,IAAOC,eAAe,QAClCzD,EAAUO,IAAM0C,WAAWjD,QAAQkD,YAAY,GAC/CE,OAAOpD,GAAS6D,sBAAhB,yIAQAP,EACE,kBAAC,IAAD,CAAU/C,MAAOA,KACf,kBAAC,cAAD,CAAaP,QAASA,MAG1BoD,OAAOG,GAAWG,YAAY,UAC9BN,OAAOD,KAAcE,qBAGvBL,KAAK,0BAA0B,WAC7B,IAAIhD,EAAUO,IAAM0C,WAAWjD,QAAQkD,YAAY,GADhB,EAEFJ,EAAW9C,GAApCmD,EAF2B,EAE3BA,WAAYG,EAFe,EAEfA,SAChBQ,EAAaN,IAAOC,eAAe,QACvCL,OAAOU,GAAYJ,YAAY,SAC/BC,IAAUC,OAAOE,EAAY,CAAEhC,OAAQ,CAAEnB,MAAO,UAEhDmD,EAAaN,IAAOC,eAAe,QACnCzD,EAAUO,IAAM0C,WAAWjD,QAAQkD,YAAY,GAC/CE,OAAOpD,GAAS6D,sBAAhB,wIAQAP,EACE,kBAAC,IAAD,CAAU/C,MAAOA,KACf,kBAAC,cAAD,CAAaP,QAASA,MAG1BoD,OAAOU,GAAYJ,YAAY,QAC/BN,OAAOD,KAAcE,sB,mBC3EvB,OAOC,WACA,aAEA,IAAIU,EAAS,GAAGC,eAEhB,SAAS1B,IAGR,IAFA,IAAI2B,EAAU,GAELC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAC1C,IAAIG,EAAMF,UAAUD,GACpB,GAAKG,EAAL,CAEA,IAAIC,SAAiBD,EAErB,GAAgB,WAAZC,GAAoC,WAAZA,EAC3BL,EAAQM,KAAKF,QACP,GAAIG,MAAMC,QAAQJ,IAAQA,EAAID,OAAQ,CAC5C,IAAIM,EAAQpC,EAAWqC,MAAM,KAAMN,GAC/BK,GACHT,EAAQM,KAAKG,QAER,GAAgB,WAAZJ,EACV,IAAK,IAAIrC,KAAOoC,EACXN,EAAOa,KAAKP,EAAKpC,IAAQoC,EAAIpC,IAChCgC,EAAQM,KAAKtC,IAMjB,OAAOgC,EAAQY,KAAK,KAGgB1D,EAAOC,SAC3CkB,EAAWwC,QAAUxC,EACrBnB,EAAOC,QAAUkB,QAGX,kBACL,OAAOA,GADF,QAAe,OAAf,aAtCP,I,gCCPD,sDAUaK,EAAkD,SAAC,GAMzD,IALLhC,EAKI,EALJA,MACAY,EAII,EAJJA,SACAC,EAGI,EAHJA,MACAC,EAEI,EAFJA,SACAmB,EACI,EADJA,UAEMmC,EAAO,UAAMtD,EAAN,UAEb,OACE,6BACE,2BAAOE,QAASoD,GAAUvD,GAC1B,2BACEI,GAAImD,EACJC,KAAK,OACLnD,UAAU,eACVlB,MAAOA,EACPY,SAAU,SAACP,GAAD,OAAiBO,EAASP,EAAMc,OAAOnB,QACjDiC,UAAWA","file":"static/js/10.0f3e4502.chunk.js","sourcesContent":["import { RootState } from 'app/rootReducer';\n\nexport const profileTypesSelector = (state: RootState): string[] =>\n  state.profile.profileTypes as string[];\n","import { RootState } from 'app/rootReducer';\nimport { Profile } from '../profileSlice';\nimport { ProfileTemplateFields } from '../helpers/profileTemplate';\nimport { WithRequired } from 'app/utils/typeUtils';\n\nexport const getIsActiveSelector = (\n  profile: WithRequired<Profile, ProfileTemplateFields>\n) => (state: RootState): boolean =>\n  state.profile.activeProfileId === profile.profileId;\n","import { store } from 'app/store';\nimport { updateProfile } from '../../profileSlice';\n\nexport const getNameOnChange = (profileId?: number) => (name: string): void => {\n  /* istanbul ignore next */\n  if (!profileId) {\n    return;\n  }\n  store.dispatch(\n    updateProfile({\n      profileId,\n      name,\n    }),\n  );\n};\n","import { store } from 'app/store';\nimport { updateProfile, ProfileType } from '../../profileSlice';\n\nexport const getTypeOnChange = (profileId?: number) => (\n  value: string,\n): void => {\n  /* istanbul ignore next */\n  if (!profileId) {\n    return;\n  }\n  store.dispatch(\n    updateProfile({\n      profileId,\n      profileType: value as ProfileType,\n    }),\n  );\n};\n","import { store } from 'app/store';\nimport { setActiveProfile } from '../../profileSlice';\n\nexport const getItemOnClick = (profileId?: number) => (): void => {\n  store.dispatch(setActiveProfile(profileId));\n};\n","import React from 'react';\nimport { store } from 'app/store';\nimport { deleteProfile } from '../../profileSlice';\n\nexport const getDeleteOnClick = (profileId?: number) => (\n  event: React.MouseEvent,\n): void => {\n  /* istanbul ignore next */\n  if (!profileId) {\n    return;\n  }\n  store.dispatch(deleteProfile(profileId));\n  event.stopPropagation();\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileItem\":\"ProfileItem_profileItem___Vthf\",\"buttonWrapper\":\"ProfileItem_buttonWrapper__Un2Su\"};","import React from 'react';\n\ninterface CustomSelectProps {\n  onChange: (value: string) => void;\n  options: string[];\n  value: string;\n  label: string;\n  idPrefix: string;\n}\n\nexport const CustomSelect: React.FC<CustomSelectProps> = ({\n  options,\n  value,\n  onChange,\n  label,\n  idPrefix,\n}) => {\n  const selectId = `${idPrefix}-select`;\n  return (\n    <div>\n      <label htmlFor={selectId}>{label}</label>\n      <select\n        id={selectId}\n        value={value}\n        className=\"form-control\"\n        onChange={(event): void => onChange(event?.target.value)}\n      >\n        {options.map((option) => (\n          <option key={option}>{option}</option>\n        ))}\n      </select>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport styles from './ProfileItem.module.css';\nimport classNames from 'classnames';\n\nimport { Profile } from '../../profileSlice';\nimport { CustomSelect } from 'app/components/CustomSelect/CustomSelect';\nimport { CustomTextInput } from 'app/components/CustomTextInput/CustomTextInput';\nimport { emptyProfile } from '../../helpers/profileTemplate';\nimport { profileTypesSelector } from '../../selectors/profileTypesSelector';\nimport { getIsActiveSelector } from '../../selectors/isActiveSelector';\nimport { getNameOnChange } from './getNameOnChange';\nimport { getTypeOnChange } from './getTypeOnChange';\nimport { getItemOnClick } from './getItemOnClick';\nimport { getDeleteOnClick } from './getDeleteOnClick';\n\ninterface ProfileProps {\n  profile: Profile;\n}\n\nexport const ProfileItem: React.FC<ProfileProps> = ({\n  profile = emptyProfile,\n}) => {\n  const profileTypes = useSelector(profileTypesSelector);\n  const isActive = useSelector(getIsActiveSelector(profile));\n\n  return (\n    <li\n      className={classNames('list-group-item', styles.profileItem, {\n        active: isActive,\n      })}\n      onClick={getItemOnClick(profile.profileId)}\n    >\n      <CustomTextInput\n        idPrefix={`name-${profile.profileId}`}\n        label={'Name'}\n        value={profile.name}\n        onChange={getNameOnChange(profile.profileId)}\n        autoFocus={isActive}\n      />\n      <CustomSelect\n        idPrefix={`type-${profile.profileId}`}\n        label={'Type'}\n        value={profile.profileType}\n        options={profileTypes}\n        onChange={getTypeOnChange(profile.profileId)}\n      />\n      <div className={styles.buttonWrapper}>\n        <button\n          className=\"btn btn-danger\"\n          onClick={getDeleteOnClick(profile.profileId)}\n        >\n          Delete\n        </button>\n      </div>\n    </li>\n  );\n};\n","import React from 'react';\nimport {\n  render /*, screen, within*/,\n  screen,\n  fireEvent,\n  RenderResult,\n} from '@testing-library/react';\nimport { Provider } from 'react-redux';\n\nimport { store } from 'app/store';\nimport { ProfileItem } from './ProfileItem';\nimport { Profile } from 'features/profileCard/profileSlice';\n\nconst renderItem = (profile: Profile): RenderResult =>\n  render(\n    <Provider store={store}>\n      <ProfileItem profile={profile} />\n    </Provider>,\n  );\n\ntest('renders ProfileItem', () => {\n  const profile = store.getState().profile.profileList[0];\n  const { asFragment } = renderItem(profile);\n  expect(asFragment()).toMatchSnapshot();\n});\n\ntest('ProfileItem name field', () => {\n  let profile = store.getState().profile.profileList[0];\n  const { asFragment, rerender } = renderItem(profile);\n  let textInput = screen.getByLabelText('Name');\n  expect(textInput).toHaveValue('Ben');\n  fireEvent.change(textInput, { target: { value: 'George' } });\n\n  textInput = screen.getByLabelText('Name');\n  profile = store.getState().profile.profileList[0];\n  expect(profile).toMatchInlineSnapshot(`\n    Object {\n      \"name\": \"George\",\n      \"profileId\": 1,\n      \"profileType\": \"admin\",\n      \"showToDoList\": true,\n    }\n  `);\n  rerender(\n    <Provider store={store}>\n      <ProfileItem profile={profile} />\n    </Provider>,\n  );\n  expect(textInput).toHaveValue('George');\n  expect(asFragment()).toMatchSnapshot();\n});\n\ntest('ProfileItem type field', () => {\n  let profile = store.getState().profile.profileList[0];\n  const { asFragment, rerender } = renderItem(profile);\n  let typeSelect = screen.getByLabelText('Type');\n  expect(typeSelect).toHaveValue('admin');\n  fireEvent.change(typeSelect, { target: { value: 'user' } });\n\n  typeSelect = screen.getByLabelText('Type');\n  profile = store.getState().profile.profileList[0];\n  expect(profile).toMatchInlineSnapshot(`\n    Object {\n      \"name\": \"George\",\n      \"profileId\": 1,\n      \"profileType\": \"user\",\n      \"showToDoList\": true,\n    }\n  `);\n  rerender(\n    <Provider store={store}>\n      <ProfileItem profile={profile} />\n    </Provider>,\n  );\n  expect(typeSelect).toHaveValue('user');\n  expect(asFragment()).toMatchSnapshot();\n});\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\n\ninterface CustomTextInputProps {\n  onChange: (value: string) => void;\n  value?: string;\n  label: string;\n  idPrefix: string;\n  autoFocus?: boolean;\n}\n\nexport const CustomTextInput: React.FC<CustomTextInputProps> = ({\n  value,\n  onChange,\n  label,\n  idPrefix,\n  autoFocus,\n}) => {\n  const inputId = `${idPrefix}-input`;\n\n  return (\n    <div>\n      <label htmlFor={inputId}>{label}</label>\n      <input\n        id={inputId}\n        type=\"text\"\n        className=\"form-control\"\n        value={value}\n        onChange={(event): void => onChange(event.target.value)}\n        autoFocus={autoFocus}\n      />\n    </div>\n  );\n};\n"],"sourceRoot":""}