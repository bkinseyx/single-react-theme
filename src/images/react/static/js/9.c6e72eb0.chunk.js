(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[9,19,22,25,51,52,53,56],{134:function(e,t,r){"use strict";r.r(t),r.d(t,"saveUserApi",(function(){return l}));var n=r(7),a=r.n(n),c=r(1),s=r(11),o=r(15),i=r(73),u=r(6),d=r(75),l=function(){var e=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.a.dispatch(Object(u.saveUserBegin)()),!t.userId){e.next=18;break}return e.t1=c.a,e.t2=Object(c.a)({},i.d),e.t3={},e.next=8,Object(i.c)("companyId");case 8:return e.t4=e.sent,e.next=11,Object(i.c)("groupId");case 11:e.t5=e.sent,e.t6=[e.t5],e.t7={companyId:e.t4,groupIds:e.t6},e.t8=t,e.t0=(0,e.t1)(e.t2,e.t3,e.t7,e.t8),e.next=31;break;case 18:return e.t9=c.a,e.t10=Object(c.a)({},i.a),e.t11={},e.next=23,Object(i.c)("companyId");case 23:return e.t12=e.sent,e.next=26,Object(i.c)("groupId");case 26:e.t13=e.sent,e.t14=[e.t13],e.t15={companyId:e.t12,groupIds:e.t14},e.t16=t,e.t0=(0,e.t9)(e.t10,e.t11,e.t15,e.t16);case 31:return r=e.t0,e.next=34,Object(i.b)(t.userId?"/user/update-user":"/user/add-user",r,"object");case 34:o.a.dispatch(Object(u.saveUserSuccess)()),Object(d.getUsersApi)(),e.next=41;break;case 38:e.prev=38,e.t17=e.catch(0),o.a.dispatch(Object(u.saveUserFailure)(e.t17));case 41:case"end":return e.stop()}}),e,null,[[0,38]])})));return function(t){return e.apply(this,arguments)}}()},168:function(e,t,r){"use strict";r.r(t),r.d(t,"cancelOnClick",(function(){return c}));var n=r(15),a=r(6),c=function(){n.a.dispatch(Object(a.cancelEditForm)())}},169:function(e,t,r){"use strict";r.r(t),r.d(t,"getUserEditFormSelector",(function(){return n}));var n=function(e){return e.user.editForm}},170:function(e,t,r){"use strict";r.r(t),r.d(t,"formOnChange",(function(){return c}));var n=r(15),a=r(6),c=function(e){var t=e.formData;n.a.dispatch(Object(a.setFormData)(t))}},171:function(e,t,r){"use strict";r.r(t),r.d(t,"formOnSubmit",(function(){return a}));var n=r(134),a=function(e){var t=e.formData;console.log("submitted successfully"),Object(n.saveUserApi)(t)}},177:function(e,t,r){"use strict";r.r(t),r.d(t,"resetOnClick",(function(){return c}));var n=r(15),a=r(6),c=function(){n.a.dispatch(Object(a.resetEditForm)())}},233:function(e,t,r){"use strict";r.r(t),r.d(t,"UserEditCard",(function(){return N}));var n=r(0),a=r.n(n),c=r(16),s=r(83),o=r(168),i=r(169),u=r(170),d=r(171),l=r(255),m=r.n(l),p=r(287),f=r.n(p),b=r(288),v=r.n(b),h=function(e){e.TitleField;var t=e.properties,r=(e.title,e.description);e.required,e.idSchema;return a.a.createElement("fieldset",null,a.a.createElement("div",null,a.a.createElement("div",{className:"row ".concat(v.a.row)},t.map((function(e){return a.a.createElement("div",{key:e.content.key},e.content)}))),r))},O=r(23),g=r(1),j=r(409),w=r.n(j),y=function(e,t){var r=e.property.substr(1);return console.log(t.properties[r].title),t.properties[r].title},E=function(e,t){return function(r){var n=k(t);return console.log({errorStrings:n,errors:r}),r.map((function(t){var r,a;return Object.keys(n).includes(t.params.format)?Object(g.a)(Object(g.a)({},t),{},{message:n[t.params.format],stack:"".concat(y(t,e)," ").concat(n[t.params.format])}):Object(g.a)(Object(g.a)({},t),{},{message:null===(r=t.message)||void 0===r?void 0:r.split(" ").slice(1).map((function(e){return"property"===e?"field":e})).join(" "),stack:"".concat(y(t,e)," ").concat(null===(a=t.stack)||void 0===a?void 0:a.split(" ").slice(1).map((function(e){return"property"===e?"field":e})).join(" "))})}))}},I={phoneNumberFormat:{regex:/^$|^\(?([2-9][0-8][0-9])\)?[-. ]?([2-9][0-9]{2})[-. ]?([0-9]{4})$/,error:"must be valid and in the format of XXX-XXX-XXXX"},emailAddressFormat:{regex:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,error:"must be in the format of something@domain.tld"}},k=function(e){return Object.keys(e).reduce((function(t,r){return Object(g.a)(Object(g.a)({},t),{},Object(O.a)({},r,e[r].error))}),{})},x={phoneNumberWidget:function(e){var t=e.value,r=void 0===t?"":t,n=e.required,c=e.onChange;return a.a.createElement(w.a,{mask:"999-999-9999",maskChar:"_",type:"tel",className:"form-control",value:r,required:n,onChange:function(e){return c(e.target.value)}})}},S=a.a.forwardRef((function(e,t){var r,n=e.formKey,c=e.data,s=e.schema,o=e.uiSchema,i=e.formOnChange,u=e.formOnSubmit;return a.a.createElement(m.a,{key:n,schema:s,uiSchema:o,widgets:x,customFormats:(r=I,Object.keys(r).reduce((function(e,t){return Object(g.a)(Object(g.a)({},e),{},Object(O.a)({},t,r[t].regex))}),{})),transformErrors:E(s,I),formData:c,onChange:i,onSubmit:u,onError:function(e){return console.log(e)},children:a.a.createElement(a.a.Fragment,null),showErrorList:!1,ObjectFieldTemplate:h,ref:t,className:f.a.wrapper})})),C=r(177),N=function(){var e=Object(c.c)(i.getUserEditFormSelector),t=e.formKey,r=e.data,l=void 0===r?{}:r,m=e.createUserSchema,p=e.updateUserSchema,f=e.uiSchema,b=Object(n.useRef)(null);return a.a.createElement("div",{className:"card",role:"main","aria-label":"User Card"},a.a.createElement("div",{className:"card-header"},a.a.createElement("h5",{className:"card-title"},"User Edit")),a.a.createElement("div",{className:"card-body"},a.a.createElement(S,{formKey:t,data:l,schema:l.userId?p:m,uiSchema:f,formOnChange:u.formOnChange,formOnSubmit:d.formOnSubmit,ref:b})),a.a.createElement("div",{className:"card-footer"},a.a.createElement(s.a,null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e;null===(e=b.current)||void 0===e||e.submit()}},"Save User"),a.a.createElement("button",{className:"btn btn-secondary",onClick:C.resetOnClick},"Reset"),a.a.createElement("button",{className:"btn btn-primary",onClick:o.cancelOnClick},"Cancel"))))}},287:function(e,t,r){e.exports={wrapper:"CustomForm_wrapper__1tUmo"}},288:function(e,t,r){e.exports={row:"ObjectFieldTemplate_row__fITKL"}},73:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return l}));var n,a=r(7),c=r.n(a),s=r(11),o=function(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r},i=function(){var e=Object(s.a)(c.a.mark((function e(t,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.Liferay){e.next=2;break}return e.abrupt("return",window.promisifiedLiferayService(t,r,a));case 2:return window.postMessage({type:"EXECUTE_LIFERAY_SERVICE",api:t,data:JSON.stringify(r),expectedResultType:a},"*"),n=o(),e.next=6,n;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),u={oldPassword:"",newPassword1:"",newPassword2:"",passwordReset:!1,reminderQueryQuestion:"",reminderQueryAnswer:"",screenName:"not_null",emailAddress:"test@example.com",facebookId:0,openId:"",languageId:0,timeZoneId:0,greeting:"",comments:"",firstName:"",middleName:"",lastName:"",prefixId:0,suffixId:0,birthdayMonth:1,birthdayDay:1,birthdayYear:1970,smsSn:"",facebookSn:"",jabberSn:"",skypeSn:"",twitterSn:"",jobTitle:"tester",groupIds:null,organizationIds:[],roleIds:[],userGroupRoles:[],userGroupIds:[],male:!0,serviceContext:{}},d={autoPassword:!1,password1:"",password2:"",autoScreenName:!1,screenName:"",emailAddress:"",facebookId:0,openId:"",locale:"en_US",firstName:"",middleName:"",lastName:"",prefixId:0,suffixId:0,male:!0,birthdayMonth:1,birthdayDay:1,birthdayYear:1970,jobTitle:"",groupIds:null,organizationIds:null,roleIds:null,userGroupIds:null,sendEmail:!1,serviceContext:{}},l=function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.Liferay){e.next=2;break}return e.abrupt("return",window.getFieldFromLiferayObject(t));case 2:return r=localStorage.getItem("liferayFields"),e.abrupt("return",JSON.parse(r)[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();window.addEventListener("message",(function(e){"LOCAL_RETURN_LIFERAY_SERVICE_RESULT"===e.data.type&&n.resolve(e.data.result)}))},75:function(e,t,r){"use strict";r.r(t),r.d(t,"getUsersApi",(function(){return u}));var n=r(7),a=r.n(n),c=r(11),s=r(15),o=r(73),i=r(6),u=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.a.dispatch(Object(i.getUsersBegin)()),e.t0=o.b,e.next=5,Object(o.c)("groupId");case 5:return e.t1=e.sent,e.t2={groupId:e.t1},e.next=9,(0,e.t0)("/user/get-group-users",e.t2,"array");case 9:t=e.sent,s.a.dispatch(Object(i.getUsersSuccess)(t)),e.next=16;break;case 13:e.prev=13,e.t3=e.catch(0),s.a.dispatch(Object(i.getUsersFailure)(e.t3));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},83:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),a=r.n(n),c=r(85),s=r.n(c),o=function(e){var t=e.children;return a.a.createElement("div",{className:s.a.wrapper},t)}},85:function(e,t,r){e.exports={wrapper:"CardFooterWrapper_wrapper__1sA5G"}}}]);
//# sourceMappingURL=9.c6e72eb0.chunk.js.map